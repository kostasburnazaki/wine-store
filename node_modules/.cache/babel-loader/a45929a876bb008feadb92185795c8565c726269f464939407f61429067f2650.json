{"ast":null,"code":"const BASE_URL = 'https://wine-shop-backend-production.up.railway.app';\nconst DATABASE_ENDPOINT = '/wines';\nfunction handleErrors(response) {\n  var _response$headers, _response$headers$get;\n  console.log;\n  if (!response.ok) {\n    return Promise.reject(new Error(`${response.status} - ${response.statusText}`));\n  }\n  if (!(response !== null && response !== void 0 && (_response$headers = response.headers) !== null && _response$headers !== void 0 && (_response$headers$get = _response$headers.get('content-type')) !== null && _response$headers$get !== void 0 && _response$headers$get.includes('application/json'))) {\n    return Promise.reject(new Error('Content type is not supported'));\n  }\n  ;\n  return response;\n}\n;\nfunction request(url) {\n  return fetch(BASE_URL + url).then(response => {\n    return handleErrors(response).json();\n  });\n}\n;\nexport const fetchClient = {\n  getDatabase: () => request(DATABASE_ENDPOINT)\n};","map":{"version":3,"names":["BASE_URL","DATABASE_ENDPOINT","handleErrors","response","_response$headers","_response$headers$get","console","log","ok","Promise","reject","Error","status","statusText","headers","get","includes","request","url","fetch","then","json","fetchClient","getDatabase"],"sources":["C:/Users/Kosntantin/Documents/mate/wine-store/src/utils/Api.tsx"],"sourcesContent":["import { Item } from \"../types/Item\";\n\nconst BASE_URL = 'https://wine-shop-backend-production.up.railway.app';\nconst DATABASE_ENDPOINT = '/wines';\n\nfunction handleErrors(response: any) {\n    console.log\n    if (!response.ok) {\n        return Promise.reject(\n            new Error(`${response.status} - ${response.statusText}`)\n        );\n    }\n\n    if (!response?.headers?.get('content-type')?.includes('application/json')) {\n        return Promise.reject(\n            new Error('Content type is not supported')\n        )\n    };\n\n    return response;\n};\n\nfunction request<T>(url: string): Promise<any> {\n    return fetch(BASE_URL + url)\n        .then(response => {\n            return handleErrors(response).json();\n        })\n};\n\nexport const fetchClient = {\n    getDatabase: () => request<Item[]>(DATABASE_ENDPOINT),\n}"],"mappings":"AAEA,MAAMA,QAAQ,GAAG,qDAAqD;AACtE,MAAMC,iBAAiB,GAAG,QAAQ;AAElC,SAASC,YAAYA,CAACC,QAAa,EAAE;EAAA,IAAAC,iBAAA,EAAAC,qBAAA;EACjCC,OAAO,CAACC,GAAG;EACX,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;IACd,OAAOC,OAAO,CAACC,MAAM,CACjB,IAAIC,KAAK,CAAE,GAAER,QAAQ,CAACS,MAAO,MAAKT,QAAQ,CAACU,UAAW,EAAC,CAAC,CAC3D;EACL;EAEA,IAAI,EAACV,QAAQ,aAARA,QAAQ,gBAAAC,iBAAA,GAARD,QAAQ,CAAEW,OAAO,cAAAV,iBAAA,gBAAAC,qBAAA,GAAjBD,iBAAA,CAAmBW,GAAG,CAAC,cAAc,CAAC,cAAAV,qBAAA,eAAtCA,qBAAA,CAAwCW,QAAQ,CAAC,kBAAkB,CAAC,GAAE;IACvE,OAAOP,OAAO,CAACC,MAAM,CACjB,IAAIC,KAAK,CAAC,+BAA+B,CAAC,CAC7C;EACL;EAAC;EAED,OAAOR,QAAQ;AACnB;AAAC;AAED,SAASc,OAAOA,CAAIC,GAAW,EAAgB;EAC3C,OAAOC,KAAK,CAACnB,QAAQ,GAAGkB,GAAG,CAAC,CACvBE,IAAI,CAACjB,QAAQ,IAAI;IACd,OAAOD,YAAY,CAACC,QAAQ,CAAC,CAACkB,IAAI,EAAE;EACxC,CAAC,CAAC;AACV;AAAC;AAED,OAAO,MAAMC,WAAW,GAAG;EACvBC,WAAW,EAAEA,CAAA,KAAMN,OAAO,CAAShB,iBAAiB;AACxD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}